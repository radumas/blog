<!DOCTYPE html>
<html>
    <head>
        <title>QGIS2leaf webmap</title>
    
        <meta charset="utf-8" />
        <link rel="stylesheet" href="css/leaflet.css" />
        <link rel="stylesheet" href="css/MarkerCluster.css" />
        <link rel="stylesheet" href="css/MarkerCluster.Default.css" />
        <link rel="stylesheet" type="text/css" href="css/qgis2web.css">
        <link rel="stylesheet" href="css/label.css" />
        <link rel="stylesheet" href="http://k4r573n.github.io/leaflet-control-osm-geocoder/Control.OSMGeocoder.css" />    
        <script src="js/leaflet.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/label.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="http://k4r573n.github.io/leaflet-control-osm-geocoder/Control.OSMGeocoder.js"></script>
        <script src="js/leaflet.markercluster.js"></script>
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    </head>
    <body>
        <div id="map"></div>
        <script src="data/json_WorkingPop.js"></script>
        <script src="data/json_AverageAge.js"></script>
        <script src="data/json_TransitLines.js"></script>
        <script>
        var map = L.map('map', {
            zoomControl:true, maxZoom:28, minZoom:1
        })
        var hash = new L.Hash(map);
        var additional_attrib = '<a href="https://github.com/tomchadwin/qgis2web" target ="_blank">qgis2web</a>';
        var feature_group = new L.featureGroup([]);
        var raster_group = new L.LayerGroup([]);
        var basemap = L.tileLayer('http://a.tile.stamen.com/toner/{z}/{x}/{y}.png', {
            attribution: additional_attrib + ' Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data: &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors,<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'
        });
        basemap.addTo(map);
        var layerOrder=new Array();
        function restackLayers() {
            for (index = 0; index < layerOrder.length; index++) {
                feature_group.removeLayer(layerOrder[index]);
                feature_group.addLayer(layerOrder[index]);
            }
        }

        layerControl = L.control.layers({},{},{collapsed:false});
    function pop_WorkingPop(feature, layer) {
    var popupContent = '<table><tr><th scope="row">ID</th><td>' + Autolinker.link(String(feature.properties['ID'])) + '</td></tr><tr><th scope="row">NOME</th><td>' + Autolinker.link(String(feature.properties['NOME'])) + '</td></tr><tr><th scope="row">TIPO_DE_SI</th><td>' + Autolinker.link(String(feature.properties['TIPO_DE_SI'])) + '</td></tr><tr><th scope="row">WORKING_AG</th><td>' + Autolinker.link(String(feature.properties['WORKING_AG'])) + '</td></tr></table>';
    layer.bindPopup(popupContent);
    }

    function doStyleWorkingPop(feature) {
        if (feature.properties.WORKING_AG >= 0.0 && feature.properties.WORKING_AG <= 20000.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#ffffcc',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.WORKING_AG >= 20000.0 && feature.properties.WORKING_AG <= 40000.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#d5eec1',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.WORKING_AG >= 40000.0 && feature.properties.WORKING_AG <= 60000.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#abdeb6',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.WORKING_AG >= 60000.0 && feature.properties.WORKING_AG <= 80000.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#81ceb9',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.WORKING_AG >= 80000.0 && feature.properties.WORKING_AG <= 100000.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#56bec0',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.WORKING_AG >= 100000.0 && feature.properties.WORKING_AG <= 120000.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#3ca9c1',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.WORKING_AG >= 120000.0 && feature.properties.WORKING_AG <= 140000.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#3391bc',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.WORKING_AG >= 140000.0 && feature.properties.WORKING_AG <= 160000.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#2b76b4',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.WORKING_AG >= 160000.0 && feature.properties.WORKING_AG <= 180000.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#2855a4',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.WORKING_AG >= 180000.0 && feature.properties.WORKING_AG <= 200000.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#253494',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
    }
            var json_WorkingPopJSON = new L.geoJson(json_WorkingPop, {
                onEachFeature: pop_WorkingPop,
                style: doStyleWorkingPop
            });
            layerOrder[layerOrder.length] = json_WorkingPopJSON;
        //add comment sign to hide this layer on the map in the initial view.
        feature_group.addLayer(json_WorkingPopJSON);
    function pop_AverageAge(feature, layer) {
    var popupContent = '<table><tr><th scope="row">ID</th><td>' + Autolinker.link(String(feature.properties['ID'])) + '</td></tr><tr><th scope="row">NOME</th><td>' + Autolinker.link(String(feature.properties['NOME'])) + '</td></tr><tr><th scope="row">TIPO_DE_SI</th><td>' + Autolinker.link(String(feature.properties['TIPO_DE_SI'])) + '</td></tr><tr><th scope="row">AVE_AGE</th><td>' + Autolinker.link(String(feature.properties['AVE_AGE'])) + '</td></tr></table>';
    layer.bindPopup(popupContent);
    }

    function doStyleAverageAge(feature) {
        if (feature.properties.AVE_AGE >= 26.0 && feature.properties.AVE_AGE <= 28.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#feedde',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.AVE_AGE >= 28.0 && feature.properties.AVE_AGE <= 30.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#feedde',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.AVE_AGE >= 30.0 && feature.properties.AVE_AGE <= 32.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#fdd0a2',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.AVE_AGE >= 32.0 && feature.properties.AVE_AGE <= 34.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#fdae6b',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.AVE_AGE >= 34.0 && feature.properties.AVE_AGE <= 36.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#fd8d3c',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.AVE_AGE >= 36.0 && feature.properties.AVE_AGE <= 38.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#fd8d3c',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.AVE_AGE >= 38.0 && feature.properties.AVE_AGE <= 40.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#f16913',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.AVE_AGE >= 40.0 && feature.properties.AVE_AGE <= 42.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#d94801',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.AVE_AGE >= 42.0 && feature.properties.AVE_AGE <= 44.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#8c2d04',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
        if (feature.properties.AVE_AGE >= 44.0 && feature.properties.AVE_AGE <= 46.0) {
            return {
                color: '#000000',
                weight: '1.04',
                dashArray: '',
                fillColor: '#8c2d04',
                opacity: '1.0',
                fillOpacity: '1.0',
            }
        }
    }
            var json_AverageAgeJSON = new L.geoJson(json_AverageAge, {
                onEachFeature: pop_AverageAge,
                style: doStyleAverageAge
            });
            layerOrder[layerOrder.length] = json_AverageAgeJSON;
        //add comment sign to hide this layer on the map in the initial view.
        feature_group.addLayer(json_AverageAgeJSON);
    function pop_TransitLines(feature, layer) {
    var popupContent = '<table><tr><th scope="row">TIPO_DE_SI</th><td>' + Autolinker.link(String(feature.properties['TIPO_DE_SI'])) + '</td></tr><tr><th scope="row">OPERADOR</th><td>' + Autolinker.link(String(feature.properties['OPERADOR'])) + '</td></tr><tr><th scope="row">NOME</th><td>' + Autolinker.link(String(feature.properties['NOME'])) + '</td></tr><tr><th scope="row">ANO_OPERAC</th><td>' + Autolinker.link(String(feature.properties['ANO_OPERAC'])) + '</td></tr></table>';
    layer.bindPopup(popupContent);
    }

    function doStyleTransitLines(feature) {
        switch (feature.properties.NOME) {
        case 'METR_LINHA_1':
            return {
                    color: '#fdb039',
                    weight: '5.2',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
        case 'METR_LINHA_2':
            return {
                    color: '#bccf49',
                    weight: '5.2',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
        case 'RAMAL_BELFORD_ROXO':
            return {
                    color: '#a15890',
                    weight: '5.2',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
        case 'RAMAL_DEODORO':
            return {
                    color: '#e52018',
                    weight: '5.2',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
        case 'RAMAL_GUAPIMIRIM':
            return {
                    color: '#fbca01',
                    weight: '5.2',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
        case 'RAMAL_INHOMIRIM':
            return {
                    color: '#f3a800',
                    weight: '5.2',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
        case 'RAMAL_ITAGUA':
            return {
                    color: '#5ad529',
                    weight: '5.2',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
        case 'RAMAL_JAPERI':
            return {
                    color: '#00a1be',
                    weight: '5.2',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
        case 'RAMAL_PARACAMBI':
            return {
                    color: '#66beec',
                    weight: '5.2',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
        case 'RAMAL_SANTA_CRUZ':
            return {
                    color: '#51ad31',
                    weight: '5.2',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
        case 'RAMAL_SARACURUNA':
            return {
                    color: '#fc892c',
                    weight: '5.2',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
        case 'TELEFERICO_ALEMAO':
            return {
                    color: '#818286',
                    weight: '5.2',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
        case 'TRANSCARIOCA_EXP':
            return {
                    color: '#ff8c00',
                    weight: '5.2',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
        case 'TRANSCARIOCA_PAR':
            return {
                    color: '#ff8c00',
                    weight: '5.2',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
        case 'TRANSOESTE_CG':
            return {
                    color: '#00008b',
                    weight: '5.2',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
        case 'TRANSOESTE_SC':
            return {
                    color: '#00008b',
                    weight: '5.2',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
            default:
                return {
                    color: '#5bcdb3',
                    weight: '1.04',
                    dashArray: '',
                    opacity: '0.85',
                };
                break;
        }
    }
            var json_TransitLinesJSON = new L.geoJson(json_TransitLines, {
                onEachFeature: pop_TransitLines,
                style: doStyleTransitLines
            });
            layerOrder[layerOrder.length] = json_TransitLinesJSON;
        //add comment sign to hide this layer on the map in the initial view.
        feature_group.addLayer(json_TransitLinesJSON);
        raster_group.addTo(map);
        feature_group.addTo(map);
        var osmGeocoder = new L.Control.OSMGeocoder({
            collapsed: false,
            position: 'topright',
            text: 'Search',
        });
        osmGeocoder.addTo(map);
        var baseMaps = {
            'Stamen Toner': basemap
        };
            L.control.layers(baseMaps,{'Working Pop<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/WorkingPop_020000.png" />  0 - 20,000 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/WorkingPop_2000040000.png" />  20,000 - 40,000 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/WorkingPop_4000060000.png" />  40,000 - 60,000 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/WorkingPop_6000080000.png" />  60,000 - 80,000 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/WorkingPop_80000100000.png" />  80,000 - 100,000 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/WorkingPop_100000120000.png" />  100,000 - 120,000 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/WorkingPop_120000140000.png" />  120,000 - 140,000 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/WorkingPop_140000160000.png" />  140,000 - 160,000 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/WorkingPop_160000180000.png" />  160,000 - 180,000 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/WorkingPop_180000200000.png" />  180,000 - 200,000 <br />': json_WorkingPopJSON,'Average Age<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/AverageAge_26002800.png" />  26.00 - 28.00 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/AverageAge_28003000.png" />  28.00 - 30.00 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/AverageAge_30003200.png" />  30.00 - 32.00 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/AverageAge_32003400.png" />  32.00 - 34.00 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/AverageAge_34003600.png" />  34.00 - 36.00 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/AverageAge_36003800.png" />  36.00 - 38.00 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/AverageAge_38004000.png" />  38.00 - 40.00 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/AverageAge_40004200.png" />  40.00 - 42.00 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/AverageAge_42004400.png" />  42.00 - 44.00 <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/AverageAge_44004600.png" />  44.00 - 46.00 <br />': json_AverageAgeJSON,'Transit Lines<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_METRLINHA1.png" /> METR_LINHA_1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_METRLINHA2.png" /> METR_LINHA_2<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_RAMALBELFORDROXO.png" /> RAMAL_BELFORD_ROXO<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_RAMALDEODORO.png" /> RAMAL_DEODORO<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_RAMALGUAPIMIRIM.png" /> RAMAL_GUAPIMIRIM<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_RAMALINHOMIRIM.png" /> RAMAL_INHOMIRIM<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_RAMALITAGUA.png" /> RAMAL_ITAGUA<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_RAMALJAPERI.png" /> RAMAL_JAPERI<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_RAMALPARACAMBI.png" /> RAMAL_PARACAMBI<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_RAMALSANTACRUZ.png" /> RAMAL_SANTA_CRUZ<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_RAMALSARACURUNA.png" /> RAMAL_SARACURUNA<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_TELEFERICOALEMAO.png" /> TELEFERICO_ALEMAO<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_TRANSCARIOCAEXP.png" /> TRANSCARIOCA_EXP<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_TRANSCARIOCAPAR.png" /> TRANSCARIOCA_PAR<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_TRANSOESTECG.png" /> TRANSOESTE_CG<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_TRANSOESTESC.png" /> TRANSOESTE_SC<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="legend/TransitLines_.png" /> <br />': json_TransitLinesJSON},{collapsed:false}).addTo(map);
        map.fitBounds(feature_group.getBounds());
        L.control.scale({options: {position: 'bottomleft',maxWidth: 100,metric: true,imperial: false,updateWhenIdle: false}}).addTo(map);
    </script>
</body>
</html>